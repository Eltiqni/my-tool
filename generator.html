<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مولّد أكواد الوظائف</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background-color: #f4f7f6;
            color: #333;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 30px;
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.07);
        }
        h1, h2 {
            text-align: center;
            color: #0056b3;
        }
        h1 {
            font-size: 28px;
            margin-bottom: 30px;
        }
        h2 {
            font-size: 22px;
            margin-top: 40px;
            border-top: 1px solid #eee;
            padding-top: 20px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 16px;
        }
        .form-group input[type="text"],
        .form-group input[type="url"],
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 15px;
            font-family: 'Cairo', sans-serif;
            box-sizing: border-box; /* لضمان عدم خروج الحقل عن الإطار */
        }
        .form-group textarea {
            min-height: 120px;
            line-height: 1.7;
        }
        .form-group small {
            display: block;
            margin-top: 5px;
            color: #777;
            font-size: 13px;
        }
        .btn {
            display: block;
            width: 100%;
            padding: 15px;
            font-size: 18px;
            font-weight: 700;
            color: #ffffff;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        #generate-btn {
            background-color: #007bff;
        }
        #generate-btn:hover {
            background-color: #0056b3;
        }
        #copy-btn {
            background-color: #28a745;
            margin-top: 15px;
            display: none; /* يظهر بعد التوليد */
        }
        #copy-btn:hover {
            background-color: #218838;
        }
        #output-container {
            margin-top: 20px;
        }
        #output-code {
            width: 100%;
            min-height: 400px;
            padding: 15px;
            font-family: monospace;
            font-size: 14px;
            direction: ltr;
            text-align: left;
            background-color: #2d2d2d;
            color: #f1f1f1;
            border: 1px solid #444;
            border-radius: 8px;
            box-sizing: border-box;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>مولّد كود تدوينة الوظيفة</h1>
        
        <form id="job-generator-form">
            
            <div class="form-group">
                <label for="company-name">اسم الشركة</label>
                <input type="text" id="company-name" value="شركة التقنية الحديثة" required>
            </div>

            <div class="form-group">
                <label for="company-link">رابط الشركة (أو رابط التسمية)</label>
                <input type="url" id="company-link" value="https://elti...com" required>
            </div>

            <div class="form-group">
                <label for="image-url">رابط صورة البانر (يفضل 1200x630)</label>
                <input type="url" id="image-url" value="https://example.com/job-image.jpg" required>
            </div>

            <div class="form-group">
                <label for="location">الموقع</label>
                <input type="text" id="location" value="الرياض، المملكة العربية السعودية" required>
            </div>

            <div class="form-group">
                <label for="job-type">نوع الدوام</label>
                <input type="text" id="job-type" value="دوام كامل" required>
            </div>

            <div class="form-group">
                <label for="department">القسم / التصنيف</label>
                <input type="text" id="department" value="برمجة وتطوير" required>
            </div>

            <div class="form-group">
                <label for="salary">الراتب</label>
                <input type="text" id="salary" value="يحدد بعد المقابلة" required>
            </div>

            <div class="form-group">
                <label for="description">الوصف الوظيفي (فقرة المقدمة)</label>
                <textarea id="description" required>نحن نبحث عن مطور واجهة أمامية شغوف للانضمام إلى فريقنا. ستكون مسؤولاً عن تصميم وتنفيذ واجهات مستخدم جذابة...</textarea>
            </div>

            <div class="form-group">
                <label for="responsibilities">المسؤوليات الرئيسية (كل مسؤولية في سطر)</label>
                <textarea id="responsibilities" required>تطوير ميزات جديدة لواجهة المستخدم.
بناء أكواد ومكتبات قابلة لإعادة الاستخدام.
ضمان الجدوى الفنية لتصاميم UI/UX.</textarea>
            </div>

            <div class="form-group">
                <label for="requirements">المتطلبات والمهارات (كل متطلب في سطر)</label>
                <textarea id="requirements" required>خبرة مثبتة لا تقل عن سنتين.
إتقان تام لـ HTML, CSS, JavaScript.
خبرة جيدة في استخدام (React, Vue, أو Angular).</textarea>
            </div>

            <div class="form-group">
                <label for="apply-link">رابط التقديم</label>
                <input type="url" id="apply-link" value="https://example.com/apply-now" required>
            </div>

            <button type="button" id="generate-btn" class="btn">توليد الكود</button>
            
        </form>

        <div id="output-container">
            <h2>الكود النهائي (جاهز للنسخ)</h2>
            <textarea id="output-code" readonly></textarea>
            <button type="button" id="copy-btn" class="btn">نسخ الكود</button>
        </div>
    </div>

    <script>
        // دالة لتحويل النص (سطر جديد) إلى عناصر قائمة HTML
        function convertToLi(text) {
            return text.split('\n')
                       .filter(line => line.trim() !== '') // إزالة الأسطر الفارغة
                       .map(line => `            <li>${line.trim()}</li>`) // إضافة وسوم <li>
                       .join('\n');
        }

        document.getElementById('generate-btn').addEventListener('click', function() {
            const companyName = document.getElementById('company-name').value;
            const companyLink = document.getElementById('company-link').value;
            const imageUrl = document.getElementById('image-url').value;
            const location = document.getElementById('location').value;
            const jobType = document.getElementById('job-type').value;
            const department = document.getElementById('department').value;
            const salary = document.getElementById('salary').value;
            const description = document.getElementById('description').value;
            const applyLink = document.getElementById('apply-link').value;
            const responsibilitiesHTML = convertToLi(document.getElementById('responsibilities').value);
            const requirementsHTML = convertToLi(document.getElementById('requirements').value);

            const finalCode = `
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
<style>
.job-posting-card {font-family: 'Cairo', sans-serif; border: 1px solid #e9e9e9; border-radius: 10px; padding: 28px; margin-bottom: 25px; background: #ffffff; box-shadow: 0 4px 12px rgba(0,0,0,0.04); line-height: 1.75;}
.job-posting-card .job-posting__header {border-bottom: 1px solid #f0f0f0; padding-bottom: 15px; margin-bottom: 20px;}
.job-posting-card .job-posting__title {font-size: 26px; font-weight: 700; margin: 0 0 8px 0; color: #222; line-height: 1.4; min-height: 30px;}
.job-posting-card .job-posting__company-link {display: inline-flex; align-items: center; gap: 8px; font-size: 17px; font-weight: 600; color: #0056b3; margin: 0; text-decoration: none; transition: color 0.3s, text-decoration 0.3s;}
.job-posting-card .job-posting__company-link:hover {color: #003d82; text-decoration: underline;}
.job-posting-card .job-posting__company-link i.fas {font-size: 15px;}
.job-posting-card .job-posting__image-banner {width: 100%; aspect-ratio: 1200 / 630; border-radius: 8px; overflow: hidden; margin-bottom: 20px; background-color: #f0f0f0;}
.job-posting-card .job-posting__image-banner img {width: 100%; height: 100%; object-fit: cover;}
.job-posting-card .job-posting__meta {display: flex; flex-wrap: wrap; gap: 12px 20px; padding-bottom: 20px; margin-bottom: 20px; border-bottom: 1px dashed #e0e0e0; font-size: 15px; color: #444;}
.job-posting-card .job-posting__meta-item {display: flex; align-items: center;}
.job-posting-card .job-posting__meta-item i.fas {font-size: 14px; color: #007bff; margin-left: 8px; width: 20px; text-align: center;}
.job-posting-card .job-posting__description {margin-bottom: 25px;}
.job-posting-card .job-posting__description h3 {font-size: 19px; font-weight: 700; color: #333; margin-top: 25px; margin-bottom: 12px; border-bottom: 2px solid #f0f0f0; padding-bottom: 5px;}
.job-posting-card .job-posting__description p, .job-posting-card .job-posting__description ul {font-size: 16px; color: #555; margin-bottom: 15px;}
.job-posting-card .job-posting__description ul {padding-right: 25px;}
.job-posting-card .job-posting__description li {margin-bottom: 8px;}
.job-posting-card .job-posting__footer {text-align: left; margin-top: 30px;}
.job-posting-card .job-posting__apply-btn {background-color: #007bff; color: #ffffff; padding: 12px 30px; border-radius: 8px; text-decoration: none; font-weight: 700; font-size: 16px; transition: all 0.3s ease; border: none; cursor: pointer; box-shadow: 0 2px 5px rgba(0,123,255,0.3);}
.job-posting-card .job-posting__apply-btn:hover {background-color: #0056b3; color: #ffffff; box-shadow: 0 4px 10px rgba(0,86,179,0.4); transform: translateY(-2px);}
</style>
<div class="job-posting-card">
    <div class="job-posting__header">
        <h2 class="job-posting__title" id="job-title-placeholder"> </h2>
        <a href="\${companyLink}" class="job-posting__company-link" target="_blank" rel="noopener noreferrer">
            <i class="fas fa-building"></i>
            <span>\${companyName}</span>
        </a>
    </div>
    <div class="job-posting__image-banner">
        <img src="\${imageUrl}" alt="صورة توضيحية للوظيفة - \${companyName}" />
    </div>
    <div class="job-posting__meta">
        <span class="job-posting__meta-item"><i class="fas fa-map-marker-alt"></i> \${location}</span>
        <span class="job-posting__meta-item"><i class="fas fa-briefcase"></i> \${jobType}</span>
        <span class="job-posting__meta-item"><i class="fas fa-layer-group"></i> \${department}</span>
        <span class="job-posting__meta-item"><i class="fas fa-money-bill-wave"></i> \${salary}</span>
    </div>
    <div class="job-posting__description">
        <h3>الوصف الوظيفي:</h3>
        <p>\${description}</p>
        <h3>المسؤوليات الرئيسية:</h3>
        <ul>
\${responsibilitiesHTML}
        </ul>
        <h3>المتطلبات والمهارات:</h3>
        <ul>
\${requirementsHTML}
        </ul>
    </div>
    <div class="job-posting__footer">
        <a href="\${applyLink}" class="job-posting__apply-btn" target="_blank">قدم الآن</a>
    </div>
</div>
<script>
document.addEventListener('DOMContentLoaded', function() {
    try {
        var postTitleElement = document.querySelector('h1.post-title') || document.querySelector('.post-title.entry-title') || document.querySelector('.post-title');
        var targetTitleElement = document.getElementById('job-title-placeholder');
        if (postTitleElement && targetTitleElement) {
            targetTitleElement.innerText = postTitleElement.innerText;
        } else {
            console.warn('لم يتم العثور على عنصر عنوان المقال أو مكان العنوان في البطاقة.');
        }
    } catch (e) {
        console.error('حدث خطأ أثناء سحب عنوان المقال:', e);
    }
});
</script>
`;

            const outputElement = document.getElementById('output-code');
            outputElement.value = finalCode.trim();
            document.getElementById('copy-btn').style.display = 'block';
        });

        document.getElementById('copy-btn').addEventListener('click', function() {
            const outputElement = document.getElementById('output-code');
            outputElement.select();
            document.execCommand('copy');
            this.innerText = 'تم النسخ!';
            setTimeout(() => {
                this.innerText = 'نسخ الكود';
            }, 2000);
        });
    </script>
</body>
</html>
